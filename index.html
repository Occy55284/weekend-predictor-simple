<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weekend Predictor</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#0f172a;
      --muted:#475569;
      --brand:#28428f;
      --brand-2:#1E824C;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      background:
        linear-gradient(rgba(255,255,255,0.85), rgba(255,255,255,0.85)),
        url('https://upload.wikimedia.org/wikipedia/commons/6/60/Soccer_field_-_empty.png') no-repeat center center fixed;
      background-size:cover;
    }

    /* Top bar */
    .topbar{
      display:flex; align-items:center; justify-content:flex-start;
      padding:14px 18px; background:rgba(255,255,255,0.9);
      border-bottom:1px solid #e5e7eb;
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:800;}
    .logo{width:38px; height:38px;}

    /* Hero */
    .hero{
      max-width:1050px; margin:36px auto; padding:0 16px; display:grid;
      grid-template-columns:1.1fr .9fr; gap:26px; align-items:center;
    }
    @media (max-width: 960px){ .hero{grid-template-columns:1fr; gap:18px; margin:22px auto} }
    .kicker{color:var(--brand); font-weight:800; letter-spacing:.12em; text-transform:uppercase; font-size:.8rem}
    h1{font-size:clamp(32px,4.2vw,54px); line-height:1.05; margin:8px 0 10px}
    .lead{color:var(--muted); font-size:clamp(16px,2.1vw,18px); background:rgba(255,255,255,0.7); padding:4px 6px; border-radius:6px; display:inline-block}

    .cta{display:flex; justify-content:center; margin-top:20px}
    .cta .btn{
      padding:16px 28px;
      font-size:1.2rem;
      border-radius:14px;
      border:none;
      cursor:pointer;
      font-weight:800;
      background:var(--brand);
      color:#fff;
      box-shadow:0 4px 8px rgba(0,0,0,.25);
    }

    /* Goal scene card */
    .scene{
      position:relative; width:100%; min-height:340px; border-radius:22px;
      background:rgba(255,255,255,0.85);
      box-shadow:0 20px 35px rgba(0,0,0,.15);
      overflow:hidden; border:1px solid rgba(0,0,0,.06)
    }
    .goal{
      position:absolute; left:50%; transform:translateX(-50%); bottom:70px;
      width:min(560px,85%); height:190px;
      border:8px solid #ffffff; border-bottom:none; border-radius:10px 10px 0 0;
      box-shadow:0 6px 0 rgba(0,0,0,.08);
      background:
        linear-gradient(90deg, rgba(0,0,0,.08) 1px, transparent 1px) 0 0/22px 18px,
        linear-gradient(0deg, rgba(0,0,0,.08) 1px, transparent 1px) 0 0/22px 18px;
    }
    .target{position:absolute;width:70px;aspect-ratio:1/1;}
    .target svg{width:100%; height:100%;}

    .turf{position:absolute; inset:auto 0 0 0; height:90px;
      background:linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.08));
      border-top:1px solid rgba(0,0,0,.08)
    }

    /* How it works */
    .steps{
      max-width:1050px; margin:6px auto 60px; padding:0 16px;
      display:grid; grid-template-columns: repeat(3,1fr); gap:16px;
    }
    @media (max-width: 900px){ .steps{grid-template-columns:1fr; gap:10px} }
    .step{
      background:var(--card); border:1px solid #e5e7eb; border-radius:16px; padding:16px;
      box-shadow:0 8px 20px rgba(0,0,0,.08);
    }
    .step h3{margin:6px 0 8px; font-size:1.05rem}
    .step p{margin:0; color:var(--muted)}

    /* Footer */
    footer{max-width:1050px; margin:0 auto 50px; padding:0 16px; color:#64748b; text-align:center}
  </style>
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <div class="brand">
      <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
        <rect x="2" y="2" width="60" height="60" rx="12" fill="#1E824C"></rect>
        <circle cx="32" cy="32" r="16" fill="#FFF" stroke="#0E3E2A" stroke-width="3"></circle>
        <path d="M32 16 l6 6 -6 4 -6-4z M32 48 l6-6 -6-4 -6 4z M16 32 l6-6 4 6 -4 6z M48 32 l-6-6 -4 6 4 6z"
              fill="#0E3E2A"></path>
      </svg>
      <span class="brand-title">Weekend Predictor</span>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div>
      <div class="kicker">Pick. Lock. Brag.</div>
      <h1>The easiest way to play a weekly football predictor with friends</h1>
      <p class="lead">
        Choose the five featured fixtures, lock your scorelines, and track your points live as results roll in.
        Zero spreadsheets. Zero hassle. Just weekend glory.
      </p>
      <div class="cta">
        <button id="ctaStart" class="btn primary">Get started</button>
      </div>
    </div>

    <div class="scene">
      <div class="goal"></div>
      <!-- Four targets -->
      <div class="target" style="bottom:120px; left:20%;">
        <svg viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="black" stroke-width="4" fill="none"/>
          <line x1="50" y1="5" x2="50" y2="95" stroke="black" stroke-width="4"/>
          <line x1="5" y1="50" x2="95" y2="50" stroke="black" stroke-width="4"/>
          <circle cx="50" cy="50" r="10" fill="black"/>
        </svg>
      </div>
      <div class="target" style="bottom:120px; left:60%;">
        <svg viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="black" stroke-width="4" fill="none"/>
          <line x1="50" y1="5" x2="50" y2="95" stroke="black" stroke-width="4"/>
          <line x1="5" y1="50" x2="95" y2="50" stroke="black" stroke-width="4"/>
          <circle cx="50" cy="50" r="10" fill="black"/>
        </svg>
      </div>
      <div class="target" style="bottom:60px; left:20%;">
        <svg viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="black" stroke-width="4" fill="none"/>
          <line x1="50" y1="5" x2="50" y2="95" stroke="black" stroke-width="4"/>
          <line x1="5" y1="50" x2="95" y2="50" stroke="black" stroke-width="4"/>
          <circle cx="50" cy="50" r="10" fill="black"/>
        </svg>
      </div>
      <div class="target" style="bottom:60px; left:60%;">
        <svg viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="black" stroke-width="4" fill="none"/>
          <line x1="50" y1="5" x2="50" y2="95" stroke="black" stroke-width="4"/>
          <line x1="5" y1="50" x2="95" y2="50" stroke="black" stroke-width="4"/>
          <circle cx="50" cy="50" r="10" fill="black"/>
        </svg>
      </div>
      <div class="turf"></div>
    </div>
  </section>

  <!-- How it works -->
  <section class="steps">
    <div class="step">
      <h3>1. Create your profile</h3>
      <p>Sign in with a magic link, add a nickname, and choose your favourite team.</p>
    </div>
    <div class="step">
      <h3>2. Make your picks</h3>
      <p>Admins select five fixtures each week. Predict the score for each one, then lock your picks.</p>
    </div>
    <div class="step">
      <h3>3. Track the bragging rights</h3>
      <p>As results come in, points update automatically. Check your weekly and season ranks.</p>
    </div>
  </section>

  <footer>
    Built for matesâ€™ leagues. No ads. No faff.
  </footer>

  <script type="module" src="supabase-config.js"></script>
  <script type="module">
    import { supabase } from './supabase-config.js';
    const ctaStart = document.getElementById('ctaStart');
    async function routeButton(){
      const { data: { session } } = await supabase.auth.getSession();
      if (session?.user) {
        ctaStart.onclick = () => location.href = 'predict.html';
      } else {
        ctaStart.onclick = () => location.href = 'login.html';
      }
    }
    routeButton();
  </script>
</body>
</html>
