<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weekend Predictor</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><rect x=%222%22 y=%222%22 width=%2260%22 height=%2260%22 rx=%2212%22 fill=%22%231E824C%22/><circle cx=%2232%22 cy=%2232%22 r=%2216%22 fill=%22%23FFF%22 stroke=%22%230E3E2A%22 stroke-width=%223%22/></svg>">
  <style>
    :root{
      --ink:#0f172a;
      --muted:#475569;
      --brand:#28428f;
      --brand-2:#1E824C;
      --bg:#f6f8ff;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 50% -20%, #eaf0ff 0%, rgba(234,240,255,0) 60%) ,
        linear-gradient(180deg, #f9fbff 0%, #eef4ff 45%, #f7fbff 100%);
    }

    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:20;
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      padding:14px 18px; backdrop-filter:saturate(120%) blur(6px);
      background:rgba(255,255,255,0.85); border-bottom:1px solid #e5e7eb;
    }
    .brand{
      display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px;
    }
    .logo{
      width:38px; height:38px;
    }
    .brand-title{font-size:1.05rem}

    .nav-actions{display:flex; gap:8px; align-items:center}
    .btn{
      border:none; cursor:pointer; font-weight:800;
      padding:10px 16px; border-radius:12px; letter-spacing:.2px;
    }
    .btn.primary{background:var(--brand); color:#fff}
    .btn.secondary{background:#111827; color:#fff}
    .btn.ghost{background:transparent; color:var(--ink)}
    .btn:focus{outline:2px solid #c7d2fe; outline-offset:2px}

    /* Hero */
    .hero{
      max-width:1050px; margin:36px auto; padding:0 16px; display:grid;
      grid-template-columns:1.1fr .9fr; gap:26px; align-items:center;
    }
    @media (max-width: 960px){ .hero{grid-template-columns:1fr; gap:18px; margin:22px auto} }
    .kicker{color:var(--brand); font-weight:800; letter-spacing:.12em; text-transform:uppercase; font-size:.8rem}
    h1{font-size:clamp(32px,4.2vw,54px); line-height:1.05; margin:8px 0 10px}
    .lead{color:var(--muted); font-size:clamp(16px,2.1vw,18px);}

    .cta{display:flex; gap:10px; margin-top:16px; flex-wrap:wrap}
    .cta .btn{padding:12px 18px; border-radius:14px}

    /* Goal scene card */
    .scene{
      position:relative; width:100%; min-height:340px; border-radius:22px;
      background:linear-gradient(180deg, #dff7e8 0%, #b1e0bd 40%, #79c38f 100%);
      box-shadow:0 20px 35px rgba(17,24,39,.15), inset 0 -60px 80px rgba(0,0,0,.08);
      overflow:hidden; border:1px solid rgba(0,0,0,.06)
    }
    .pitch-lines::before{
      content:""; position:absolute; inset:0;
      background:
        radial-gradient(60px 60px at 80% 80%, rgba(255,255,255,.35) 0 10px, transparent 11px) no-repeat,
        radial-gradient(600px 200px at 50% 120%, rgba(255,255,255,.35) 0 2px, transparent 3px) no-repeat;
    }
    /* Goal frame */
    .goal{
      position:absolute; left:50%; transform:translateX(-50%); bottom:70px;
      width:min(560px,85%); height:190px;
      border:8px solid #ffffff; border-bottom:none; border-radius:10px 10px 0 0;
      box-shadow:0 6px 0 rgba(0,0,0,.08);
      background:
        linear-gradient(90deg, rgba(0,0,0,.08) 1px, transparent 1px) 0 0/22px 18px,
        linear-gradient(0deg, rgba(0,0,0,.08) 1px, transparent 1px) 0 0/22px 18px;
    }
    .goal:after{
      content:""; position:absolute; inset:10px 10px auto 10px; height:0;
      border-top:4px solid rgba(255,255,255,.95); border-radius:20px;
      top:-12px; filter:drop-shadow(0 2px 0 rgba(0,0,0,.08));
    }
    /* Ball */
    .ball{
      position:absolute; bottom:95px; left:14%;
      width:52px; aspect-ratio:1/1; border-radius:50%;
      background:#fff; box-shadow:0 10px 18px rgba(0,0,0,.25), inset 0 -6px 10px rgba(0,0,0,.09);
      display:grid; place-items:center; animation:float 2.8s ease-in-out infinite;
    }
    .ball svg{width:70%; height:70%}
    @keyframes float{
      0%{ transform:translateY(0) rotate(0deg) }
      50%{ transform:translateY(-10px) rotate(6deg) }
      100%{ transform:translateY(0) rotate(0deg) }
    }
    /* Score mini-card */
    .score-card{
      position:absolute; right:16px; top:14px;
      background:rgba(255,255,255,.95); border:1px solid #e5e7eb; border-radius:14px;
      padding:8px 10px; font-weight:800; color:#111827; letter-spacing:.3px;
      box-shadow:0 10px 26px rgba(0,0,0,.12);
    }
    .score-card small{display:block; color:#475569; font-weight:700}
    .turf{position:absolute; inset:auto 0 0 0; height:90px;
      background:linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.08)),
                 repeating-linear-gradient(90deg, rgba(255,255,255,.25) 0 1px, transparent 1px 60px);
      border-top:1px solid rgba(0,0,0,.08)
    }

    /* How it works */
    .steps{
      max-width:1050px; margin:6px auto 60px; padding:0 16px;
      display:grid; grid-template-columns: repeat(3,1fr); gap:16px;
    }
    @media (max-width: 900px){ .steps{grid-template-columns:1fr; gap:10px} }
    .step{
      background:var(--card); border:1px solid #e5e7eb; border-radius:16px; padding:16px;
      box-shadow:0 8px 20px rgba(0,0,0,.08);
    }
    .step h3{margin:6px 0 8px; font-size:1.05rem}
    .step p{margin:0; color:var(--muted)}
    .num{
      width:28px; height:28px; border-radius:50%; display:grid; place-items:center;
      background:var(--brand-2); color:#fff; font-weight:800; font-size:.9rem
    }

    /* Footer */
    footer{max-width:1050px; margin:0 auto 50px; padding:0 16px; color:#64748b; text-align:center}
    footer a{color:#334155}
  </style>
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <div class="brand">
      <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
        <rect x="2" y="2" width="60" height="60" rx="12" fill="#1E824C"></rect>
        <circle cx="32" cy="32" r="16" fill="#FFF" stroke="#0E3E2A" stroke-width="3"></circle>
        <path d="M32 16 l6 6 -6 4 -6-4z M32 48 l6-6 -6-4 -6 4z M16 32 l6-6 4 6 -4 6z M48 32 l-6-6 -4 6 4 6z"
              fill="#0E3E2A"></path>
      </svg>
      <span class="brand-title">Weekend Predictor</span>
    </div>
    <div class="nav-actions">
      <a class="btn ghost" href="leaderboard.html">Leaderboard</a>
      <a class="btn ghost" href="my-picks.html">My Picks</a>
      <button id="primaryCta" class="btn primary">Sign in</button>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div>
      <div class="kicker">Pick. Lock. Brag.</div>
      <h1>The easiest way to play a weekly football predictor with friends</h1>
      <p class="lead">
        Choose the five featured fixtures, lock your scorelines, and track your points live as results roll in.
        Zero spreadsheets. Zero hassle. Just weekend glory.
      </p>
      <div class="cta">
        <button id="ctaStart" class="btn primary">Get started</button>
        <a class="btn secondary" href="leaderboard.html">See leaderboard</a>
      </div>
      <p class="lead" style="margin-top:10px; font-size:.95rem; color:#334155">
        Auto-updated fixtures &amp; results • Magic-link sign in • Weekly or season standings
      </p>
    </div>

    <div class="scene pitch-lines">
      <div class="score-card">
        <small>Live example</small>
        ARS 2 — 1 CHE
      </div>

      <div class="goal"></div>

      <div class="ball" aria-hidden="true">
        <!-- simple pentagon pattern -->
        <svg viewBox="0 0 100 100">
          <polygon points="50,15 70,35 62,65 38,65 30,35" fill="#0E3E2A"></polygon>
        </svg>
      </div>

      <div class="turf"></div>
    </div>
  </section>

  <!-- How it works -->
  <section class="steps">
    <div class="step">
      <div class="num">1</div>
      <h3>Create your profile</h3>
      <p>Sign in with a magic link, add a nickname, and choose your favourite team.</p>
    </div>
    <div class="step">
      <div class="num">2</div>
      <h3>Make your picks</h3>
      <p>Admins select five fixtures each week. Predict the score for each one, then lock your picks.</p>
    </div>
    <div class="step">
      <div class="num">3</div>
      <h3>Track the bragging rights</h3>
      <p>As results come in, points update automatically. Check your weekly and season ranks.</p>
    </div>
  </section>

  <footer>
    Built for mates’ leagues. No ads. No faff.
    &nbsp;•&nbsp; <a href="profile.html">Edit profile</a>
    &nbsp;•&nbsp; <a href="predict.html">Make picks</a>
  </footer>

  <script type="module" src="supabase-config.js"></script>
  <script type="module">
    import { supabase } from './supabase-config.js';

    // Decide CTA based on auth state
    const primaryCta = document.getElementById('primaryCta');
    const ctaStart = document.getElementById('ctaStart');

    async function routeButtons(){
      const { data: { session } } = await supabase.auth.getSession();
      const loggedIn = !!session?.user;

      if (loggedIn) {
        primaryCta.textContent = 'Go to Predictions';
        primaryCta.onclick = () => location.href = 'predict.html';
        ctaStart.onclick = () => location.href = 'predict.html';
      } else {
        primaryCta.textContent = 'Sign in';
        primaryCta.onclick = () => location.href = 'login.html';
        ctaStart.onclick = () => location.href = 'login.html';
      }
    }

    routeButtons();

    // Optional: if a returning user hits the landing page, fast-redirect to the app
    // Comment out this block if you prefer to keep them here.
    (async () => {
      const { data: { session } } = await supabase.auth.getSession();
      if (session?.user) {
        // If they already have a profile, send them to predictions; else to profile.
        const { data, error } = await supabase
          .from('profiles')
          .select('display_name')
          .eq('id', session.user.id)
          .single();
        if (!error && data?.display_name) {
          // small delay so they can see the page flash if they want
          setTimeout(()=>{ location.replace('predict.html'); }, 300);
        } else {
          setTimeout(()=>{ location.replace('profile.html'); }, 300);
        }
      }
    })();
  </script>
</body>
</html>




 












